[
  {
    "chunk_id": 0,
    "text": "üé∏ HarmoniX Academy\nMaster the Neck, Master the Music\n\nA next-generation, interactive guitar learning platform built for musicians, educators, and students to visualize, hear, and master music theory directly on a virtual fretboard Combines scales, modes, the CAGED system, audio playback, AI-guided prompts, and real-time pitch detection ‚Äî all wrapped in a beautiful glassy UI üöÄ Overview\n\nHarmoniX Academy transforms traditional guitar learning into a digital experience Explore scales, visualize intervals, train your ear, and interact with theory like never before Key highlights:\n\nüéµ Interactive Fretboard ‚Äî 6 strings √ó 24 frets with real-time note highlighting\n\nüîä Scale Player ‚Äî Hear scales ascending/descending using Tone.js\n\nüß† Theory Assistant ‚Äî Explore formulas, chord relationships, and intervals\n\nüé∏ CAGED System Visualization ‚Äî See all 5 movable patterns dynamically\n\nü™ó AI Tutor Mode ‚Äî Follow guided prompts and challenges to learn theory interactively\n\nüéöÔ∏è Metronome + Tuner ‚Äî Practice in rhythm and tune your guitar live\n\nüìà Progress Tracking ‚Äî XP, streaks, and lessons saved via backend\n\nüíé Glassy Modern UI ‚Äî Smooth transitions, color-coded degrees, and vibrant themes\n\nüß© Tech Stack\nLayer\tTechnologies\nüé® Frontend\tReact.js, React Router, Tone.js, Tonal.js, TailwindCSS / Custom CSS, Framer Motion\n‚öôÔ∏è Backend\tNode.js, Express.js, MongoDB, Mongoose\nüîä Audio & Theory\tWeb Audio API, Tone.js, @tonaljs/tonal\nüîê Auth & Data\tJWT, bcrypt, MongoDB Atlas\nüß† AI Prompt Engine\tCustom logic engine for guided lessons\nüß≠ State Management\tReact Context / Hooks\nüì¶ Deployment\tVercel (Frontend), Render / Railway (Backend)\nüóÇÔ∏è Folder Structure\nsrc/\n‚îú‚îÄ‚îÄ App.js\n‚îú‚îÄ‚îÄ App.css\n‚îú‚îÄ‚îÄ features/\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.jsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SignupPage.jsx\n‚îÇ   ‚îú‚îÄ‚îÄ dashboard/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.jsx\n‚îÇ   ‚îú‚îÄ‚îÄ fretboard/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ component/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Fretboard.jsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TheorySidebar.jsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ScalePlayer.jsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CagedOverlay.jsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromptBanner.jsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fretboard.css\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidebar.css\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useScalePlayer.js\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useCagedShapes.js\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePrompts.js\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data/\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ scaleData.js\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ cagedData.js\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ intervalInfo.js\n‚îÇ   ‚îú‚îÄ‚îÄ tuner/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TunerPage.jsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useTuner.js\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tuner.css\n‚îÇ   ‚îú‚îÄ‚îÄ metronome/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ component/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Metronome.jsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metronome.css\n‚îÇ   ‚îú‚îÄ‚îÄ ai-tutor/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ component/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromptEngine.jsx\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LessonCard.jsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ promptData.js\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tutor.css\n‚îú‚îÄ‚îÄ backend/\n‚îÇ   ‚îú‚îÄ‚îÄ server.js\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n‚îÇ   ‚îú‚îÄ‚îÄ models/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/\n‚îÇ   ‚îú‚îÄ‚îÄ config/\n\nüíª Setup & Installation\nüß± Prerequisites\n\nMake sure you have:\n\nNode.js ‚â• 18\n\nMongoDB Atlas / local instance\n\nnpm / yarn\n\n‚öôÔ∏è Clone and Install\ngit clone https://github.com/yourusername/harmonix-academy.git\ncd harmonix-academy\nnpm install\ncd backend && npm install\n\nüîß Environment Variables\n\nCreate .env in /backend:\n\nMONGODB_URI=your_mongo_connection_string\nJWT_SECRET=your_secret\nPORT=5000\n\nüöÄ Run the app\n# Start backend\ncd backend\nnpm run dev\n\n# Start frontend\ncd .",
    "file_path": "README.md",
    "chunk_index": 0
  },
  {
    "chunk_id": 1,
    "text": "npm start\n\n\nApp runs at üëâ http://localhost:3000\n\nüé∂ Core Features Breakdown\nüé∏ Fretboard\n\nSelect root & scale\n\nDynamic degree highlighting\n\nClick ‚Üí Hear note (Tone.js)\n\nHover ‚Üí Interval tooltip\n\nPositions 1‚Äì5 toggle\n\nOptional CAGED overlays\n\nüß† Theory Sidebar\n\nDisplays scale info, intervals, and chord relations\n\nExplains mood of each mode\n\nOffers quick access to related scales\n\nüîä Scale Player\n\nSequential playback (ascending/descending)\n\nAdjustable tempo (BPM)\n\nLoop playback option\n\nüéì AI Tutor Mode\n\nGamified learning system\n\nChallenges like ‚ÄúFind all G notes‚Äù or ‚ÄúIdentify the 5th degree‚Äù\n\nAwards XP & lesson completion\n\nüéß Tuner\n\nUses getUserMedia for live input\n\nShows note name, frequency, and pitch deviation\n\nüïí Metronome\n\nTap tempo or manual BPM\n\nVisual + sound click\n\nCustomizable accent beat\n\nü™∂ CAGED Mode\n\nOverlay all 5 major/minor shapes\n\nVisual guide for pattern memorization\n\nEach position linked to practice exercises\n\nüåà UI Design\n\nModern glassy UI\n\nAdaptive to light/dark theme (Amp Mode)\n\nFretboard with vivid color-coded scale degrees\n\nSmooth transitions using Framer Motion\n\nüß© Future Roadmap\n\n‚úÖ v1 ‚Äì Fretboard, Scales, Theory, Tuner\nüîÑ v2 ‚Äì Lesson Engine + User Profiles\nüéß v3 ‚Äì Ear Training Mode + Sound Recognition\nüé∏ v4 ‚Äì Backing Track Player\nüß† v5 ‚Äì AI-powered practice coach\nüì± v6 ‚Äì Mobile PWA version\n\nüßë‚Äçüéì Target Users\n\nBeginner guitarists learning scales\n\nIntermediate players mastering the neck\n\nMusic teachers who want visual tools\n\nAdvanced users exploring modes & improvisation\n\nüè∑Ô∏è Brand Identity\n\nApp Name: HarmoniX Academy\nTagline: ‚ÄúMaster the neck, master the music.‚Äù\nTheme: Neo-Glassy Tech / Modern Learning Studio\nAccent Colors: Orange (#f97316) & Indigo (#4f46e5)\n\nü§ù Contributing\n\nPull requests are welcome If you‚Äôd like to contribute lessons or improve the theory engine:\n\nFork the repo\n\nCreate your branch (feature/new-lesson)\n\nCommit changes\n\nOpen a PR üé∏\n\nüìú License\n\nMIT License ¬© 2025 ‚Äî Built for musicians by musicians üé∂\n\n‚ö° Acknowledgments\n\nTonal.js\n for scale & interval magic\n\nTone.js\n for sound synthesis\n\nReact\n for the modular architecture\n\nYou ‚Äî the learner, dreamer, and guitarist üß°\n\nüñºÔ∏è Preview (Optional section)\n\n(Add screenshots here when ready)\n\nüé∏ Dashboard ‚Üí Interactive Fretboard ‚Üí Theory Overlay ‚Üí Scale Player\n\nüß© ‚ÄúHarmoniX Academy‚Äù ‚Äî where code meets creativity,\n\nmusic meets interactivity, and you become your own teacher üé∂",
    "file_path": "README.md",
    "chunk_index": 1
  },
  {
    "chunk_id": 2,
    "text": "const mongoose = require('mongoose');\n\nmodule.exports = async function connectDb() {\n  const uri = process.env.MONGODB_URI || 'mongodb://127.0.0.1:27017/harmonix';\n  mongoose.set('strictQuery', true);\n  await mongoose.connect(uri, { dbName: 'harmonix' });\n};",
    "file_path": "backend/config/db.js",
    "chunk_index": 2
  },
  {
    "chunk_id": 3,
    "text": "const LessonProgress = require('../models/LessonProgress');\n\nexports.getProgress = async (req, res) => {\n  const userId = req.query.userId;\n  const list = await LessonProgress.find({ userId });\n  res.json(list);\n};\n\nexports.updateProgress = async (req, res) => {\n  const { userId, lessonId, status, xpAwarded } = req.body;\n  const doc = await LessonProgress.findOneAndUpdate(\n    { userId, lessonId },\n    { status, xpAwarded },\n    { new: true, upsert: true }\n  );\n  res.json(doc);\n};",
    "file_path": "backend/controllers/lessonController.js",
    "chunk_index": 3
  },
  {
    "chunk_id": 4,
    "text": "const User = require('../models/User');\n\nexports.register = async (req, res) => {\n  const { email, password } = req.body;\n  if (!email || !password) return res.status(400).json({ message: 'email and password required' });\n  // demo only: store hash-less (do not use in production)\n  try {\n    const user = await User.create({ email, passwordHash: password });\n    res.status(201).json({ id: user._id, email: user.email });\n  } catch (e) {\n    res.status(400).json({ message: e.message });\n  }\n};\n\nexports.login = async (req, res) => {\n  const { email, password } = req.body;\n  const user = await User.findOne({ email });\n  if (!user || user.passwordHash !== password) return res.status(401).json({ message: 'invalid credentials' });\n  res.json({ id: user._id, email: user.email, xp: user.xp, streak: user.streak });\n};\n\nexports.me = async (req, res) => {\n  res.json({ ok: true });\n};",
    "file_path": "backend/controllers/userController.js",
    "chunk_index": 4
  },
  {
    "chunk_id": 5,
    "text": "const mongoose = require('mongoose');\n\nconst lessonProgressSchema = new mongoose.Schema({\n  userId: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n  lessonId: { type: String, required: true },\n  status: { type: String, enum: ['not_started','in_progress','completed'], default: 'not_started' },\n  xpAwarded: { type: Number, default: 0 },\n}, { timestamps: true });\n\nmodule.exports = mongoose.model('LessonProgress', lessonProgressSchema);",
    "file_path": "backend/models/LessonProgress.js",
    "chunk_index": 5
  },
  {
    "chunk_id": 6,
    "text": "const mongoose = require('mongoose');\n\nconst userSchema = new mongoose.Schema({\n  email: { type: String, required: true, unique: true },\n  passwordHash: { type: String, required: true },\n  displayName: { type: String },\n  xp: { type: Number, default: 0 },\n  streak: { type: Number, default: 0 },\n}, { timestamps: true });\n\nmodule.exports = mongoose.model('User', userSchema);",
    "file_path": "backend/models/User.js",
    "chunk_index": 6
  },
  {
    "chunk_id": 7,
    "text": "{\n  \"name\": \"harmonix-backend\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"main\": \"server.js\",\n  \"type\": \"commonjs\",\n  \"scripts\": {\n    \"start\": \"node server.js\",\n    \"dev\": \"node server.js\"\n  },\n  \"dependencies\": {\n    \"cors\": \"^2.8.5\",\n    \"dotenv\": \"^16.4.5\",\n    \"express\": \"^4.19.2\",\n    \"mongoose\": \"^8.7.0\"\n  }\n}",
    "file_path": "backend/package.json",
    "chunk_index": 7
  },
  {
    "chunk_id": 8,
    "text": "const router = require('express').Router();\nconst ctrl = require('../controllers/lessonController');\n\nrouter.get('/', ctrl.getProgress);\nrouter.post('/', ctrl.updateProgress);\n\nmodule.exports = router;",
    "file_path": "backend/routes/progressRoutes.js",
    "chunk_index": 8
  },
  {
    "chunk_id": 9,
    "text": "const router = require('express').Router();\nconst ctrl = require('../controllers/userController');\n\nrouter.post('/register', ctrl.register);\nrouter.post('/login', ctrl.login);\nrouter.get('/me', ctrl.me);\n\nmodule.exports = router;",
    "file_path": "backend/routes/userRoutes.js",
    "chunk_index": 9
  },
  {
    "chunk_id": 10,
    "text": "const express = require('express');\nconst cors = require('cors');\nconst dotenv = require('dotenv');\nconst connectDb = require('./config/db');\n\ndotenv.config();\n\nconst app = express();\napp.use(cors());\napp.use(express.json());\n\n// routes\napp.use('/api/users', require('./routes/userRoutes'));\napp.use('/api/progress', require('./routes/progressRoutes'));\n\napp.get('/health', (req, res) => res.json({ ok: true }));\n\nconst PORT = process.env.PORT || 4000;\n\nconnectDb().then(() => {\n  app.listen(PORT, () => console.log(`HarmoniX backend running on :${PORT}`));\n}).catch(err => {\n  console.error('DB connection failed', err);\n  process.exit(1);\n});",
    "file_path": "backend/server.js",
    "chunk_index": 10
  },
  {
    "chunk_id": 11,
    "text": "{\n  \"name\": \"guitar_theory_simulator\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@testing-library/dom\": \"^10.4.1\",\n    \"@testing-library/jest-dom\": \"^6.9.1\",\n    \"@testing-library/react\": \"^16.3.0\",\n    \"@testing-library/user-event\": \"^13.5.0\",\n    \"@tonaljs/tonal\": \"^4.10.0\",\n    \"framer-motion\": \"^12.23.24\",\n    \"react\": \"^19.2.0\",\n    \"react-dom\": \"^19.2.0\",\n    \"react-router-dom\": \"^7.9.5\",\n    \"react-scripts\": \"5.0.1\",\n    \"web-vitals\": \"^2.1.4\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"build\": \"react-scripts build\",\n    \"test\": \"react-scripts test\",\n    \"eject\": \"react-scripts eject\"\n  },\n  \"eslintConfig\": {\n    \"extends\": [\n      \"react-app\",\n      \"react-app/jest\"\n    ]\n  },\n  \"browserslist\": {\n    \"production\": [\n      \">0.2%\",\n      \"not dead\",\n      \"not op_mini all\"\n    ],\n    \"development\": [\n      \"last 1 chrome version\",\n      \"last 1 firefox version\",\n      \"last 1 safari version\"\n    ]\n  }\n}",
    "file_path": "package.json",
    "chunk_index": 11
  },
  {
    "chunk_id": 12,
    "text": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <link rel=\"icon\" href=\"%PUBLIC_URL%/favicon.ico\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta name=\"theme-color\" content=\"#000000\" />\n    <meta\n      name=\"description\"\n      content=\"Web site created using create-react-app\"\n    />\n    <link rel=\"apple-touch-icon\" href=\"%PUBLIC_URL%/logo192.png\" />\n    <!--\n      manifest.json provides metadata used when your web app is installed on a\n      user's mobile device or desktop See https://developers.google.com/web/fundamentals/web-app-manifest/\n    -->\n    <link rel=\"manifest\" href=\"%PUBLIC_URL%/manifest.json\" />\n    <!--\n      Notice the use of %PUBLIC_URL% in the tags above It will be replaced with the URL of the `public` folder during the build Only files inside the `public` folder can be referenced from the HTML Unlike \"/favicon.ico\" or \"favicon.ico\", \"%PUBLIC_URL%/favicon.ico\" will\n      work correctly both with client-side routing and a non-root public URL Learn how to configure a non-root public URL by running `npm run build` -->\n    <title>React App</title>\n  </head>\n  <body>\n    <noscript>You need to enable JavaScript to run this app.</noscript>\n    <div id=\"root\"></div>\n    <!--\n      This HTML file is a template If you open it directly in the browser, you will see an empty page You can add webfonts, meta tags, or analytics to this file The build step will place the bundled scripts into the <body> tag To begin the development, run `npm start` or `yarn start` To create a production bundle, use `npm run build` or `yarn build` -->\n  </body>\n</html>",
    "file_path": "public/index.html",
    "chunk_index": 12
  },
  {
    "chunk_id": 13,
    "text": "{\n  \"short_name\": \"React App\",\n  \"name\": \"Create React App Sample\",\n  \"icons\": [\n    {\n      \"src\": \"favicon.ico\",\n      \"sizes\": \"64x64 32x32 24x24 16x16\",\n      \"type\": \"image/x-icon\"\n    },\n    {\n      \"src\": \"logo192.png\",\n      \"type\": \"image/png\",\n      \"sizes\": \"192x192\"\n    },\n    {\n      \"src\": \"logo512.png\",\n      \"type\": \"image/png\",\n      \"sizes\": \"512x512\"\n    }\n  ],\n  \"start_url\": \".\",\n  \"display\": \"standalone\",\n  \"theme_color\": \"#000000\",\n  \"background_color\": \"#ffffff\"\n}",
    "file_path": "public/manifest.json",
    "chunk_index": 13
  },
  {
    "chunk_id": 14,
    "text": "# https://www.robotstxt.org/robotstxt.html\nUser-agent: *\nDisallow:",
    "file_path": "public/robots.txt",
    "chunk_index": 14
  },
  {
    "chunk_id": 15,
    "text": ":root {\n  --neck-bg: #0f172a;\n}\nbody.light .fb-container {\n  background: #f8fafc;\n  color: #020617;\n}\n.fb-note { transition: none; }\n.fb-note:hover { box-shadow: none; }\n\n/* HarmoniX global shell */\n.hx-shell { min-height: 100vh; background: radial-gradient(1200px 600px at 20% -10%, rgba(56,189,248,.18), transparent), radial-gradient(1200px 600px at 80% -10%, rgba(99,102,241,.18), transparent), linear-gradient(180deg, #0b1220, #0a0f1c); }\n.hx-topbar {\n  position: sticky; top: 0; z-index: 50;\n  display: flex; align-items: center; justify-content: space-between;\n  padding: .75rem 1rem; gap: 1rem;\n  background: rgba(2,6,23,.55); border-bottom: 1px solid rgba(148,163,184,.08);\n  backdrop-filter: blur(10px);\n}\n.hx-main { padding: 1rem; }\n.hx-brand { display:flex; align-items:center; gap:.6rem; color:#e2e8f0; }\n.hx-logo { width:28px; height:28px; border-radius:8px; display:grid; place-items:center; font-weight:800; background: linear-gradient(135deg, #f59e0b, #ea580c); color:#0b1220; }\n.hx-title .hx-name { font-weight: 700; line-height: 1; }\n.hx-title .hx-tagline { font-size:.7rem; opacity:.7; line-height:1; }\n.hx-nav { display:flex; gap:.8rem; }\n.hx-nav a { color:#cbd5e1; text-decoration:none; font-weight:600; font-size:.95rem; padding:.35rem .55rem; border-radius:.5rem; }\n.hx-nav a:hover { background: rgba(148,163,184,.15); color:#e2e8f0; }\n\n/* Footer */\n.hx-footer {\n  margin-top: 2rem;\n  border-top: 1px solid rgba(148,163,184,.1);\n  background: rgba(2,6,23,.55);\n  color: #e2e8f0;\n}\n.hx-footer-grid {\n  display: grid;\n  grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr;\n  gap: 1.25rem;\n  padding: 1.25rem 1rem;\n}\n.hx-footer-brand { display:flex; gap:.7rem; align-items:center; }\n.hx-foot-head { font-weight:700; margin-bottom:.5rem; }\n.hx-foot-list { list-style:none; padding:0; margin:0; display:grid; gap:.35rem; }\n.hx-foot-list a { color:#cbd5e1; text-decoration:none; }\n.hx-foot-list a:hover { color:#fff; }\n.hx-foot-bottom {\n  padding: .8rem 1rem;\n  border-top: 1px solid rgba(148,163,184,.08);\n  font-size: .9rem;\n  text-align: center;\n  opacity: .9;\n}\n\n@media (max-width: 900px) {\n  .hx-footer-grid {\n    grid-template-columns: 1fr 1fr;\n  }\n}",
    "file_path": "src/App.css",
    "chunk_index": 15
  },
  {
    "chunk_id": 16,
    "text": "// src/App.js\nimport React from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate, Link } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport DashboardPage from \"./features/dashboard/page/DashboardPage\";\nimport FretboardPage from \"./features/fretboard/page/FretboardPage\";\nimport TunerPage from \"./features/tuner/page/TunerPage\";\n\nfunction App() {\n    return (\n        <Router>\n            <div className=\"hx-shell\">\n                <header className=\"hx-topbar\">\n                    <div className=\"hx-brand\">\n                        <span className=\"hx-logo\">H</span>\n                        <div className=\"hx-title\">\n                            <div className=\"hx-name\">HarmoniX Academy</div>\n                            <div className=\"hx-tagline\">Master the neck, master the music.</div>\n                        </div>\n                    </div>\n                    <nav className=\"hx-nav\">\n                        <Link to=\"/dashboard\">Dashboard</Link>\n                        <Link to=\"/fretboard\">Fretboard</Link>\n                        <Link to=\"/theory\">Theory</Link>\n                        <Link to=\"/practice\">Practice</Link>\n                        <Link to=\"/tuner\">Tuner</Link>\n                        <Link to=\"/profile\">Profile</Link>\n                    </nav>\n                </header>\n                <main className=\"hx-main\">\n                    <Routes>\n                        <Route path=\"/\" element={<Navigate to=\"/dashboard\" />} />\n                        <Route path=\"/dashboard\" element={<DashboardPage />} />\n                        <Route path=\"/fretboard\" element={<FretboardPage />} />\n                        <Route path=\"/tuner\" element={<TunerPage />} />\n                        {/* alias theory and practice to dashboard for now */}\n                        <Route path=\"/theory\" element={<FretboardPage />} />\n                        <Route path=\"/practice\" element={<DashboardPage />} />\n                        {/* fallback: any unknown route ‚Üí dashboard */}\n                        <Route path=\"*\" element={<Navigate to=\"/dashboard\" />} />\n                    </Routes>\n                </main>\n                <footer className=\"hx-footer\">\n                    <div className=\"hx-footer-grid\">\n                        <div className=\"hx-footer-brand\">\n                            <div className=\"hx-logo\">H</div>\n                            <div>\n                                <div className=\"hx-name\">HarmoniX Academy</div>\n                                <div className=\"hx-tagline\">Master the neck, master the music.</div>\n                            </div>\n                        </div>\n                        <div>\n                            <div className=\"hx-foot-head\">Products</div>\n                            <ul className=\"hx-foot-list\">\n                                <li><Link to=\"/fretboard\">Interactive Fretboard</Link></li>\n                                <li><Link to=\"/tuner\">Guitar Tuner</Link></li>\n                                <li><Link to=\"/practice\">Metronome</Link></li>\n                            </ul>\n                        </div>\n                        <div>\n                            <div className=\"hx-foot-head\">Learn</div>\n                            <ul className=\"hx-foot-list\">\n                                <li><Link to=\"/theory\">Music Theory</Link></li>\n                                <li><Link to=\"/fretboard\">CAGED System</Link></li>\n                                <li><Link to=\"/practice\">Ear Training</Link></li>\n                            </ul>\n                        </div>\n                        <div>\n                            <div className=\"hx-foot-head\">Community</div>\n                            <ul className=\"hx-foot-list\">\n                                <li><a href=\"#\">Roadmap</a></li>\n                                <li><a href=\"#\">Changelog</a></li>\n                                <li><a href=\"#\">Support</a></li>\n                            </ul>\n                        </div>\n                        <div>\n                            <div className=\"hx-foot-head\">Assets</div>\n                            <ul className=\"hx-foot-list\">\n                                <li><a href=\"#\">Logos</a></li>\n                                <li><a href=\"#\">Brand Guide</a></li>\n                                <li><a href=\"#\">Press Kit</a></li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"hx-foot-bottom\">\n                        ¬© 2025 | HArminiX | Built by Sachin Khatri All Rights Reserved </div>\n                </footer>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;",
    "file_path": "src/App.js",
    "chunk_index": 16
  },
  {
    "chunk_id": 17,
    "text": "import { render, screen } from '@testing-library/react';\nimport App from './App';\n\ntest('renders learn react link', () => {\n  render(<App />);\n  const linkElement = screen.getByText(/learn react/i);\n  expect(linkElement).toBeInTheDocument();\n});",
    "file_path": "src/App.test.js",
    "chunk_index": 17
  },
  {
    "chunk_id": 18,
    "text": "import React from \"react\";\n\nexport default function LessonCard({ title, description, xp = 50, onStart }) {\n    return (\n        <div className=\"tutor-card\">\n            <div className=\"tutor-card-title\">{title}</div>\n            <div className=\"tutor-card-desc\">{description}</div>\n            <div className=\"tutor-card-row\">\n                <span className=\"tutor-xp\">+{xp} XP</span>\n                <button className=\"tutor-btn\" onClick={onStart}>Start</button>\n            </div>\n        </div>\n    );\n}",
    "file_path": "src/features/ai-tutor/component/LessonCard.jsx",
    "chunk_index": 18
  },
  {
    "chunk_id": 19,
    "text": "import React, { useState } from \"react\";\nimport promptData from \"../data/promptData\";\n\nexport default function PromptEngine() {\n    const [idx, setIdx] = useState(0);\n    const prompt = promptData[idx];\n    return (\n        <div className=\"tutor-box\">\n            <div className=\"tutor-head\">Practice Prompt</div>\n            <div className=\"tutor-body\">{prompt.text}</div>\n            <div className=\"tutor-actions\">\n                <button className=\"tutor-btn\" onClick={()=>setIdx((i)=>(i+1)%promptData.length)}>Next</button>\n            </div>\n        </div>\n    );\n}",
    "file_path": "src/features/ai-tutor/component/PromptEngine.jsx",
    "chunk_index": 19
  },
  {
    "chunk_id": 20,
    "text": ".tutor-box { background: rgba(15,23,42,.25); border:1px solid rgba(148,163,184,.08); border-radius:.8rem; color:#e2e8f0; }\n.tutor-head { padding:.6rem .8rem; font-weight:700; border-bottom:1px solid rgba(148,163,184,.08); }\n.tutor-body { padding:.8rem; }\n.tutor-actions { padding:.6rem .8rem; border-top:1px solid rgba(148,163,184,.08); }\n.tutor-btn { background: rgba(59,130,246,.15); border:1px solid rgba(59,130,246,.35); color:#bae6fd; padding:.35rem .6rem; border-radius:.5rem; cursor:pointer; }\n\n.tutor-card { background: rgba(15,23,42,.25); border:1px solid rgba(148,163,184,.08); border-radius:.8rem; padding:.6rem; color:#e2e8f0; }\n.tutor-card-title { font-weight:700; }\n.tutor-card-desc { opacity:.85; font-size:.9rem; }\n.tutor-card-row { display:flex; justify-content:space-between; align-items:center; margin-top:.5rem; }\n.tutor-xp { color:#fde68a; }",
    "file_path": "src/features/ai-tutor/css/tutor.css",
    "chunk_index": 20
  },
  {
    "chunk_id": 21,
    "text": "const promptData = [\n    { id: \"g-notes\", text: \"Find all G notes on the fretboard.\" },\n    { id: \"mixo-pos5\", text: \"Play the Mixolydian scale starting from the 5th position.\" },\n    { id: \"pent-pos2\", text: \"Ascend then descend A minor pentatonic in position 2.\" },\n    { id: \"target-3rd\", text: \"Target the 3rd of each chord in a I‚ÄìIV‚ÄìV in C.\" },\n];\n\nexport default promptData;",
    "file_path": "src/features/ai-tutor/data/promptData.js",
    "chunk_index": 21
  },
  {
    "chunk_id": 22,
    "text": "export default class LoginPage {\n\n}",
    "file_path": "src/features/auth/page/LoginPage.js",
    "chunk_index": 22
  },
  {
    "chunk_id": 23,
    "text": "export default class SignupPage {\n\n}",
    "file_path": "src/features/auth/page/SignupPage.js",
    "chunk_index": 23
  },
  {
    "chunk_id": 24,
    "text": "// src/features/dashboard/component/Dashboard.jsx\nimport React from \"react\";\nimport Fretboard from \"../../fretboard/component/Fretboard\";\nimport \"../css/dashboard.css\";\n\nexport default function Dashboard() {\n    return (\n        <div className=\"dashboard-shell\">\n            <aside className=\"dash-sidebar\">\n                <h2>GuitarLab</h2>\n                <p>Tools</p>\n            </aside>\n            <main className=\"dash-main\">\n                <h1>Dashboard</h1>\n                <Fretboard />\n            </main>\n        </div>\n    );\n}",
    "file_path": "src/features/dashboard/component/Dashboard.js",
    "chunk_index": 24
  },
  {
    "chunk_id": 25,
    "text": "/* HarmoniX dashboard layout */\n.dashboard-shell {\n    display: grid;\n    grid-template-columns: 240px 1fr;\n    gap: 1rem;\n}\n.dash-sidebar {\n    background: rgba(15,23,42,.25);\n    border: 1px solid rgba(148,163,184,.08);\n    border-radius: 0.8rem;\n    padding: 1rem;\n    color: #e2e8f0;\n}\n.dash-links { list-style: none; padding: 0; margin: .5rem 0 0; }\n.dash-links li { padding: .35rem 0; opacity: .85; }\n.dash-main {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n}\n.dash-hero {\n    background: linear-gradient(135deg, rgba(30,58,138,.5), rgba(8,47,73,.35));\n    border: 1px solid rgba(148,163,184,.12);\n    border-radius: 1rem;\n    padding: 1rem;\n    color: #e2e8f0;\n}\n.dash-hero-title { font-size: 1.25rem; font-weight: 700; }\n.dash-hero-sub { opacity: .8; }\n.dash-widgets {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    gap: 1rem;\n    align-items: start;\n}\n.dash-card {\n    background: rgba(15,23,42,.25);\n    border: 1px solid rgba(148,163,184,.08);\n    border-radius: 1rem;\n    padding: .75rem;\n    color: #e2e8f0;\n}",
    "file_path": "src/features/dashboard/css/dashboard.css",
    "chunk_index": 25
  },
  {
    "chunk_id": 26,
    "text": "// src/features/dashboard/page/DashboardPage.jsx\nimport React from \"react\";\nimport Fretboard from \"../../fretboard/component/Fretboard\";\nimport TunerWidget from \"../../tuner/component/TunerWidget\";\nimport \"../css/dashboard.css\";\n\nexport default function DashboardPage() {\n    return (\n        <div className=\"dashboard-shell\">\n            <aside className=\"dash-sidebar\">\n                <h2>HarmoniX</h2>\n                <p className=\"muted\">Practice smarter Learn faster.</p>\n            </aside>\n            <main className=\"dash-main\">\n                <section className=\"dash-hero\">\n                    <div className=\"dash-hero-title\">Welcome to HarmoniX Academy</div>\n                    <div className=\"dash-hero-sub\">Master the neck, master the music.</div>\n                </section>\n                <section className=\"dash-widgets\">\n                    <div className=\"dash-card\">\n                        <h3>Interactive Fretboard</h3>\n                        <Fretboard />\n                    </div>\n                    <div className=\"dash-card\" style={{maxWidth:\"280px\"}}>\n                        <h3>Quick Tuner</h3>\n                        <TunerWidget />\n                    </div>\n                </section>\n            </main>\n        </div>\n    );\n}",
    "file_path": "src/features/dashboard/page/DashboardPage.js",
    "chunk_index": 26
  },
  {
    "chunk_id": 27,
    "text": "import React, { useMemo, useState } from \"react\";\nimport useCagedShapes from \"../hooks/useCagedShapes\";\n\nexport default function CagedOverlay({ root }) {\n    const [variant, setVariant] = useState(\"major\"); // \"major\" | \"minor\"\n    const shapes = useCagedShapes(root, variant);\n\n    const ranges = useMemo(() => {\n        return shapes.map(s => s.fretRange);\n    }, [shapes]);\n\n    return (\n        <div className=\"caged-overlay\">\n            <div className=\"caged-toolbar\">\n                <span>CAGED</span>\n                <select value={variant} onChange={(e)=>setVariant(e.target.value)}>\n                    <option value=\"major\">Major</option>\n                    <option value=\"minor\">Minor</option>\n                </select>\n            </div>\n            <div className=\"caged-ranges\">\n                {ranges.map((r, i) => (\n                    <div key={i} className=\"caged-chip\">{r[0]}‚Äì{r[1]}</div>\n                ))}\n            </div>\n        </div>\n    );\n}",
    "file_path": "src/features/fretboard/component/CagedOverlay.jsx",
    "chunk_index": 27
  },
  {
    "chunk_id": 28,
    "text": "import React, { useMemo, useState, useRef } from \"react\";\nimport { Scale, Note, Interval, distance, Interval as TonalInterval } from \"@tonaljs/tonal\";\nimport \"../css/fretboard.css\";\nimport ScalePlayer from \"./ScalePlayer\";\nimport CagedOverlay from \"./CagedOverlay\";\nimport PromptBanner from \"./PromptBanner\";\n\nconst TUNING = [\"E4\", \"B3\", \"G3\", \"D3\", \"A2\", \"E2\"];\nconst FRETS = 24;\n\nconst FRET_MARKERS = {\n    3: \"single\",\n    5: \"single\",\n    7: \"single\",\n    9: \"single\",\n    12: \"double\",\n    15: \"single\",\n    17: \"single\",\n    19: \"single\",\n    21: \"single\",\n    24: \"double\",\n};\n\n// changed: minor -> tonalName: \"minor\"\nconst SCALE_DATA = {\n    major: {\n        tonalName: \"major\",\n        label: \"Major\",\n        formula: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"],\n    },\n    minor: {\n        tonalName: \"minor\", // ‚¨ÖÔ∏è was \"natural minor\"\n        label: \"Natural Minor\",\n        formula: [\"1\", \"2\", \"b3\", \"4\", \"5\", \"b6\", \"b7\"],\n    },\n    pentatonic: {\n        tonalName: \"minor pentatonic\",\n        label: \"Pentatonic Minor\",\n        formula: [\"1\", \"b3\", \"4\", \"5\", \"b7\"],\n    },\n    blues: {\n        tonalName: \"blues\",\n        label: \"Blues\",\n        formula: [\"1\", \"b3\", \"4\", \"b5\", \"5\", \"b7\"],\n    },\n    dorian: {\n        tonalName: \"dorian\",\n        label: \"Dorian\",\n        formula: [\"1\", \"2\", \"b3\", \"4\", \"5\", \"6\", \"b7\"],\n    },\n    mixolydian: {\n        tonalName: \"mixolydian\",\n        label: \"Mixolydian\",\n        formula: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"b7\"],\n    },\n};\n\nconst DEGREE_COLORS = [\n    \"var(--fb-root)\",\n    \"var(--fb-degree-2)\",\n    \"var(--fb-degree-3)\",\n    \"var(--fb-degree-4)\",\n    \"var(--fb-degree-5)\",\n    \"var(--fb-degree-6)\",\n    \"var(--fb-degree-7)\",\n];\n\nconst ROOTS = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n\nconst POSITIONS = [\n    { id: \"off\", label: \"No position\", range: null },\n    { id: \"p1\", label: \"Position 1\", range: [0, 4] },\n    { id: \"p2\", label: \"Position 2\", range: [3, 7] },\n    { id: \"p3\", label: \"Position 3\", range: [5, 9] },\n    { id: \"p4\", label: \"Position 4\", range: [7, 12] },\n    { id: \"p5\", label: \"Position 5\", range: [12, 17] },\n];\n\nexport default function Fretboard() {\n    const [root, setRoot] = useState(\"C\");\n    const [scaleId, setScaleId] = useState(\"major\");\n    const [positionId, setPositionId] = useState(\"off\");\n    const [mode, setMode] = useState(\"scale\"); // \"scale\" | \"caged\" | \"chord\"\n    const [tooltip, setTooltip] = useState(null);\n    const audioCtxRef = useRef(null);\n\n    const scaleInfo = SCALE_DATA[scaleId];\n\n    const scaleNotes = useMemo(() => {\n        const s = Scale.get(`${root} ${scaleInfo.tonalName}`);\n        return s.notes;\n    }, [root, scaleId, scaleInfo]);\n\n    const degreeMap = useMemo(() => {\n        const map = {};\n        scaleNotes.forEach((pc, idx) => {\n            map[pc] = idx;\n        });\n        return map;\n    }, [scaleNotes]);\n\n    const board = useMemo(() => {\n        return TUNING.map((openNote) => {\n            const stringNotes = [];\n            for (let fret = 0; fret <= FRETS; fret++) {\n                const interval = Interval.fromSemitones(fret);\n                const note = Note.transpose(openNote, interval);\n                const pc = Note.pitchClass(note);\n                stringNotes.push({ fret, pc, note });\n            }\n            return stringNotes;\n        });\n    }, []);\n\n    function playNote(noteName) {\n        const freq = Note.freq(noteName);\n        if (!freq) return;\n        if (!audioCtxRef.current) {\n            audioCtxRef.current = new (window.AudioContext || window.webkitAudioContext)();\n        }\n        const ctx = audioCtxRef.current;\n        const osc = ctx.createOscillator();\n        const gain = ctx.createGain();\n        osc.frequency.value = freq;\n        // slightly softer and smoother envelope to avoid click artifacts (animation fix)\n        osc.type = \"sine\";\n        gain.gain.setValueAtTime(0, ctx.currentTime);\n        gain.gain.linearRampToValueAtTime(0.22, ctx.currentTime + 0.01);\n        gain.gain.linearRampToValueAtTime(0.0, ctx.currentTime + 0.4);\n        osc.connect(gain);\n        gain.connect(ctx.destination);\n        osc.start();\n        osc.stop(ctx.currentTime + 0.42);\n    }\n\n    const posRange = POSITIONS.find((p) => p.id === positionId)?.range || null;\n\n    return (\n        <div className=\"fb-container\">\n            <PromptBanner />\n            <div className=\"fb-top\">\n                <div className=\"fb-controls\">\n                    <div className=\"fb-control\">\n                        <label>Root</label>\n                        <select value={root} onChange={(e) => setRoot(e.target.value)}>\n                            {ROOTS.map((r) => (\n                                <option key={r} value={r}>\n                                    {r}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <div className=\"fb-control\">\n                        <label>Scale</label>\n                        <select value={scaleId} onChange={(e) => setScaleId(e.target.value)}>\n                            {Object.entries(SCALE_DATA).map(([id, s]) => (\n                                <option key={id} value={id}>\n                                    {s.label}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <div className=\"fb-control\">\n                        <label>Position</label>\n                        <select value={positionId} onChange={(e) => setPositionId(e.target.value)}>\n                            {POSITIONS.map((p) => (\n                                <option key={p.id} value={p.id}>\n                                    {p.label}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                    <div className=\"fb-control\">\n                        <label>Mode</label>\n                        <select value={mode} onChange={(e) => setMode(e.target.value)}>\n                            <option value=\"scale\">Scale Mode</option>\n                            <option value=\"chord\">Chord Mode</option>\n                            <option value=\"caged\">CAGED Mode</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div className=\"fb-theory\">\n                    <div>\n                        <h4>\n                            {root} {scaleInfo.label}\n                        </h4>\n                        <p className=\"fb-sub\">Formula: {scaleInfo.formula.join(\" ‚Äì \")}</p>\n                        <p className=\"fb-sub\">Notes: {scaleNotes.join(\" ¬∑ \")}</p>\n                    </div>\n                    <div className=\"fb-legend\">\n                        {scaleNotes.map((note, idx) => (\n                            <div key={note} className=\"fb-legend-item\">\n                <span\n                    className=\"fb-legend-dot\"\n                    style={{ background: DEGREE_COLORS[idx % DEGREE_COLORS.length] }}\n                />\n                                <span className=\"fb-legend-text\">\n                  {note} ({scaleInfo.formula[idx] || `deg ${idx + 1}`})\n                </span>\n                            </div>\n                        ))}\n                    </div>\n                    <ScalePlayer root={root} notes={scaleNotes} onPlayNote={playNote} />\n                </div>\n            </div>\n\n            {tooltip && (\n                <div className=\"fb-tooltip\" style={{ top: tooltip.y, left: tooltip.x }}>\n                    <div className=\"fb-tooltip-note\">{tooltip.note}</div>\n                    <div className=\"fb-tooltip-sub\">{tooltip.interval}</div>\n                </div>\n            )}\n\n            <div className=\"fb-fret-numbers\">\n                <div className=\"fb-fret-number fb-left-pad\"></div>\n                {Array.from({ length: FRETS + 1 }).map((_, idx) => (\n                    <div key={idx} className=\"fb-fret-number\">\n                        {idx === 0",
    "file_path": "src/features/fretboard/component/Fretboard.jsx",
    "chunk_index": 28
  },
  {
    "chunk_id": 29,
    "text": "\"0\" : idx}\n                    </div>\n                ))}\n            </div>\n\n            <div className=\"fb-board\">\n                {board.map((stringNotes, stringIdx) => (\n                    <div key={stringIdx} className=\"fb-string-row\">\n                        <div className=\"fb-string-label\">{TUNING[stringIdx].replace(/\\d/, \"\")}</div>\n                        {stringNotes.map(({ fret, pc, note }) => {\n                            const inScale = pc in degreeMap;\n                            const degreeIdx = degreeMap[pc];\n                            const isRoot = pc === root;\n                            const marker = FRET_MARKERS[fret];\n                            const inPosition = posRange fret >= posRange[0] && fret <= posRange[1] : false;\n\n                            let intervalText = \"\";\n                            if (inScale) {\n                                const dist = distance(root, pc);\n                                // fallback to degree label; beautify common intervals\n                                intervalText = dist || scaleInfo.formula[degreeIdx] || \"\";\n                            }\n\n                            return (\n                                <div\n                                    key={fret}\n                                    className={`fb-fret ${marker \"has-marker\" : \"\"} ${inPosition \"fb-pos\" : \"\"}`}\n                                >\n                                    <div\n                                        className={\n                                            \"fb-note\" + (inScale \" in-scale\" : \"\") + (isRoot \" is-root\" : \"\")\n                                        }\n                                        style={\n                                            inScale { background: DEGREE_COLORS[degreeIdx % DEGREE_COLORS.length] }\n                                                : {}\n                                        }\n                                        onClick={() => inScale && playNote(note)}\n                                        onMouseEnter={(e) =>\n                                            setTooltip({\n                                                x: e.clientX + 8,\n                                                y: e.clientY - 30,\n                                                note: note,\n                                                interval: intervalText,\n                                            })\n                                        }\n                                        onMouseLeave={() => setTooltip(null)}\n                                    >\n                                        <span className=\"fb-note-main\">{inScale pc : \"\"}</span>\n                                        {inScale && (\n                                            <span className=\"fb-note-degree\">\n                        {isRoot \"R\" : scaleInfo.formula[degreeIdx] || degreeIdx + 1}\n                      </span>\n                                        )}\n                                    </div>\n\n                                    {marker && (\n                                        <div\n                                            className={marker === \"double\" \"fb-marker double\" : \"fb-marker\"}\n                                        ></div>\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </div>\n                ))}\n            </div>\n\n            {mode === \"caged\" && (\n                <CagedOverlay root={root} />\n            )}\n        </div>\n    );\n}",
    "file_path": "src/features/fretboard/component/Fretboard.jsx",
    "chunk_index": 29
  },
  {
    "chunk_id": 30,
    "text": "import React from \"react\";\nimport usePrompts from \"../hooks/usePrompts\";\n\nexport default function PromptBanner() {\n    const { prompt, next } = usePrompts();\n    return (\n        <div className=\"fb-prompt\" onClick={next} title=\"Click for next prompt\">\n            <span className=\"label\">AI Practice Prompt</span>\n            <span className=\"text\">{prompt}</span>\n        </div>\n    );\n}",
    "file_path": "src/features/fretboard/component/PromptBanner.jsx",
    "chunk_index": 30
  },
  {
    "chunk_id": 31,
    "text": "import React, { useEffect, useRef, useState } from \"react\";\n\nexport default function ScalePlayer({ root, notes, onPlayNote }) {\n    const [bpm, setBpm] = useState(90);\n    const [isLoop, setIsLoop] = useState(false);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const timerRef = useRef(null);\n    const idxRef = useRef(0);\n\n    useEffect(() => {\n        return () => stop();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    function step() {\n        const note = notes[idxRef.current % notes.length];\n        onPlayNote(note + \"4\");\n        idxRef.current += 1;\n        if (!isLoop && idxRef.current >= notes.length) {\n            stop();\n            return;\n        }\n        scheduleNext();\n    }\n\n    function scheduleNext() {\n        const intervalMs = (60_000 / bpm);\n        timerRef.current = setTimeout(step, intervalMs);\n    }\n\n    function playOnce() {\n        if (isPlaying) return;\n        setIsLoop(false);\n        setIsPlaying(true);\n        idxRef.current = 0;\n        scheduleNext();\n    }\n\n    function loop() {\n        if (isPlaying) return;\n        setIsLoop(true);\n        setIsPlaying(true);\n        idxRef.current = 0;\n        scheduleNext();\n    }\n\n    function stop() {\n        setIsPlaying(false);\n        if (timerRef.current) clearTimeout(timerRef.current);\n        timerRef.current = null;\n    }\n\n    return (\n        <div className=\"fb-player\">\n            <div className=\"fb-player-controls\">\n                <button className=\"fb-btn\" onClick={playOnce} disabled={isPlaying}>‚ñ∂ Play Asc</button>\n                <button className=\"fb-btn\" onClick={loop} disabled={isPlaying}>üîÅ Loop</button>\n                <button className=\"fb-btn ghost\" onClick={stop} disabled={!isPlaying}>‚èπ Stop</button>\n            </div>\n            <div className=\"fb-player-bpm\">\n                <label>BPM</label>\n                <input type=\"range\" min=\"40\" max=\"180\" value={bpm} onChange={(e)=>setBpm(Number(e.target.value))} />\n                <span>{bpm}</span>\n            </div>\n        </div>\n    );\n}",
    "file_path": "src/features/fretboard/component/ScalePlayer.jsx",
    "chunk_index": 31
  },
  {
    "chunk_id": 32,
    "text": "import React from \"react\";\nimport intervalInfo from \"../data/intervalInfo\";\n\nexport default function TheorySidebar() {\n    return (\n        <div className=\"sidebar\">\n            <h3>Theory Helper</h3>\n            <p className=\"muted\">Quick references for intervals, diatonic harmony, and relative scales.</p>\n            <div className=\"card\">\n                <h4>Intervals</h4>\n                <ul className=\"list\">\n                    {intervalInfo.map((iv) => (\n                        <li key={iv.name}>\n                            <span>{iv.name}</span>\n                            <span className=\"pill\">{iv.semitones} st</span>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n            <div className=\"card\">\n                <h4>Major Scale Diatonic Chords</h4>\n                <ul className=\"list\">\n                    <li><span>I</span><span className=\"pill\">maj7</span></li>\n                    <li><span>ii</span><span className=\"pill\">m7</span></li>\n                    <li><span>iii</span><span className=\"pill\">m7</span></li>\n                    <li><span>IV</span><span className=\"pill\">maj7</span></li>\n                    <li><span>V</span><span className=\"pill\">7</span></li>\n                    <li><span>vi</span><span className=\"pill\">m7</span></li>\n                    <li><span>vii¬∞</span><span className=\"pill\">m7b5</span></li>\n                </ul>\n            </div>\n            <div className=\"card\">\n                <h4>Relative Scales</h4>\n                <ul className=\"list\">\n                    <li><span>Natural Minor</span><span className=\"pill\">6th degree of Major</span></li>\n                    <li><span>Dorian</span><span className=\"pill\">2nd degree</span></li>\n                    <li><span>Mixolydian</span><span className=\"pill\">5th degree</span></li>\n                    <li><span>Pentatonic Minor</span><span className=\"pill\">1 b3 4 5 b7</span></li>\n                    <li><span>Blues</span><span className=\"pill\">+ b5</span></li>\n                </ul>\n            </div>\n            <div className=\"card\">\n                <h4>Tips</h4>\n                <ul className=\"list\">\n                    <li>Target 3rds/7ths on chord changes.</li>\n                    <li>Use CAGED to anchor positions.</li>\n                    <li>Practice with a metronome; start slow.</li>\n                </ul>\n            </div>\n        </div>\n    );\n}",
    "file_path": "src/features/fretboard/component/TheorySidebar.jsx",
    "chunk_index": 32
  },
  {
    "chunk_id": 33,
    "text": ":root {\n    --fb-bg: radial-gradient(circle at top, rgba(15,23,42,.3) 0%, rgba(2,6,23,1) 80%);\n    --fb-border: rgba(148,163,184,.08);\n    --fb-text: #e2e8f0;\n    --fb-muted: #94a3b8;\n\n    --fb-root: #f97316;\n    --fb-degree-2: #38bdf8;\n    --fb-degree-3: #a855f7;\n    --fb-degree-4: #22c55e;\n    --fb-degree-5: #eab308;\n    --fb-degree-6: #f43f5e;\n    --fb-degree-7: #0ea5e9;\n}\n\n/* container */\n.fb-container {\n    background: var(--fb-bg);\n    border: 1px solid var(--fb-border);\n    border-radius: 1rem;\n    padding: 1rem;\n    backdrop-filter: blur(14px);\n    color: var(--fb-text);\n    overflow-x: auto;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    position: relative;\n}\n\n/* top section */\n.fb-top {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    gap: 1rem;\n}\n\n.fb-controls {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1rem;\n}\n\n.fb-control label {\n    display: block;\n    font-size: .6rem;\n    text-transform: uppercase;\n    letter-spacing: .05em;\n    margin-bottom: .25rem;\n    color: var(--fb-muted);\n}\n\n.fb-control select {\n    background: rgba(15,23,42,.25);\n    border: 1px solid rgba(148,163,184,.25);\n    border-radius: .55rem;\n    padding: .25rem .6rem;\n    color: inherit;\n}\n\n/* theory section */\n.fb-theory {\n    background: rgba(15,23,42,.2);\n    border: 1px solid rgba(148,163,184,.08);\n    border-radius: .8rem;\n    padding: .6rem .8rem;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1.25rem;\n    align-items: center;\n    min-height: 70px;\n}\n.fb-theory h4 { margin: 0; font-size: .8rem; }\n.fb-sub { margin: 0; font-size: .62rem; color: var(--fb-muted); }\n\n.fb-legend {\n    display: flex;\n    flex-wrap: wrap;\n    gap: .5rem;\n}\n.fb-legend-item {\n    display: flex;\n    align-items: center;\n    gap: .25rem;\n    font-size: .6rem;\n}\n.fb-legend-dot {\n    width: .75rem;\n    height: .75rem;\n    border-radius: 50%;\n}\n\n.fb-player { display: flex; align-items: center; gap: .75rem; margin-left: auto; }\n.fb-player-controls { display: flex; gap: .5rem; }\n.fb-btn { background: rgba(255,255,255,.1); color: #e2e8f0; border: 1px solid rgba(148,163,184,.25); padding: .35rem .6rem; border-radius: .5rem; cursor: pointer; }\n.fb-btn.ghost { background: transparent; }\n.fb-btn:disabled { opacity: .6; cursor: not-allowed; }\n.fb-player-bpm { display: flex; align-items: center; gap: .4rem; font-size: .7rem; color: var(--fb-muted); }\n\n/* fret numbers */\n.fb-fret-numbers {\n    display: grid;\n    grid-template-columns: 50px repeat(25, 50px);\n    gap: 4px;\n    user-select: none;\n}\n.fb-fret-number {\n    text-align: center;\n    font-size: .6rem;\n    color: var(--fb-muted);\n}\n\n/* main board */\n.fb-board {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n\n/* string rows fixed size */\n.fb-string-row {\n    display: grid;\n    grid-template-columns: 50px repeat(25, 50px);\n    gap: 4px;\n    align-items: center;\n    height: 48px;\n    min-height: 48px;\n    max-height: 48px;\n}\n.fb-string-label {\n    text-align: center;\n    font-weight: 500;\n    color: var(--fb-muted);\n    line-height: 1;\n}\n\n/* frets locked */\n.fb-fret {\n    position: relative;\n    background: linear-gradient(180deg, rgba(15,23,42,.1) 0%, rgba(15,23,42,.45) 100%);\n    border: 1px solid rgba(148,163,184,.05);\n    border-radius: .65rem;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 46px;\n    overflow: hidden;\n}\n.fb-fret.fb-pos {\n    outline: 1px solid rgba(255,255,255,0.05);\n    background: radial-gradient(circle, rgba(59,130,246,.08) 0%, rgba(15,23,42,0) 70%);\n}\n\n/* note - fixed and isolated layout */\n.fb-note {\n    position: relative;\n    width: 38px;\n    height: 34px;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: .75rem;\n    font-size: .65rem;\n    font-weight: 600;\n    color: #020617;\n    overflow: hidden;\n    cursor: pointer;\n    user-select: none;\n    /* remove aggressive compositing hints to avoid hover jitter */\n}\n.fb-note.in-scale { background: rgba(255,255,255,.9); }\n.fb-note.is-root {\n    outline: 2px solid rgba(255,255,255,.7);\n    box-shadow: 0 0 8px rgba(249,115,22,.5);\n}\n\n/* fixed degree label */\n.fb-note-degree {\n    position: absolute;\n    bottom: 2px;\n    right: 4px;\n    font-size: .5rem;\n    background: rgba(255,255,255,.4);\n    border-radius: 999px;\n    padding: 1px 4px;\n    pointer-events: none;\n    line-height: 1;\n}\n.fb-note.is-root .fb-note-degree {\n    background: rgba(2,6,23,.3);\n    color: #fff;\n    font-weight: 700;\n}\n\n/* markers */\n.fb-marker {\n    position: absolute;\n    bottom: 4px;\n    width: 9px;\n    height: 9px;\n    background: rgba(148,163,184,.35);\n    border-radius: 50%;\n}\n.fb-marker.double {\n    background: transparent;\n    display: flex;\n    gap: 5px;\n}\n.fb-marker.double::before,\n.fb-marker.double::after {\n    content: \"\";\n    width: 9px;\n    height: 9px;\n    background: rgba(148,163,184,.35);\n    border-radius: 50%;\n}\n\n/* tooltip - isolated layer */\n.fb-tooltip {\n    position: fixed;\n    background: rgba(15,23,42,.95);\n    border: 1px solid rgba(148,163,184,.25);\n    padding: 4px 8px;\n    border-radius: .45rem;\n    font-size: .55rem;\n    z-index: 9999;\n    pointer-events: none;\n    color: #e2e8f0;\n    transform: translateZ(0);\n}\n.fb-tooltip-note { font-weight: 600; }\n.fb-tooltip-sub { color: #94a3b8; }\n\n/* AI prompt banner */\n.fb-prompt { display:flex; gap:.6rem; align-items:center; background: rgba(234,179,8,.06); border: 1px solid rgba(234,179,8,.25); color:#fde68a; padding:.4rem .6rem; border-radius:.6rem; margin-bottom:.5rem; cursor:pointer; user-select:none; }\n.fb-prompt .label { font-size:.6rem; opacity:.8; text-transform:uppercase; }\n.fb-prompt .text { font-size:.75rem; }\n\n/* CAGED overlay toolbar */\n.caged-overlay { margin-top:.5rem; display:flex; align-items:center; justify-content:space-between; }\n.caged-toolbar { display:flex; align-items:center; gap:.5rem; font-size:.8rem; color:#e2e8f0; }\n.caged-ranges { display:flex; gap:.35rem; flex-wrap:wrap; }\n.caged-chip { font-size:.65rem; color:#e2e8f0; background: rgba(59,130,246,.15); border:1px solid rgba(59,130,246,.35); border-radius:999px; padding:.15rem .45rem; }\n\n/* responsive */\n@media (max-width: 900px) {\n    .fb-fret-number { font-size: .55rem; }\n    .fb-string-row,\n    .fb-fret-numbers {\n        grid-template-columns: 42px repeat(25, 42px);\n    }\n    .fb-note {\n        width: 34px;\n        height: 30px;\n    }\n}",
    "file_path": "src/features/fretboard/css/fretboard.css",
    "chunk_index": 33
  },
  {
    "chunk_id": 34,
    "text": "/* Theory sidebar */\n.fb-page { display:grid; grid-template-columns: 1fr 320px; gap: 1rem; }\n.fb-page-main { min-width: 0; }\n.fb-page-sidebar { min-width: 0; }\n\n.sidebar {\n    background: rgba(15,23,42,.25);\n    border: 1px solid rgba(148,163,184,.08);\n    border-radius: .9rem;\n    padding: .8rem;\n    color: #e2e8f0;\n}\n.sidebar h3 { margin: 0 0 .25rem 0; }\n.sidebar .muted { color: #94a3b8; font-size: .8rem; margin: 0 0 .5rem 0; }\n.sidebar .card {\n    background: rgba(2,6,23,.25);\n    border: 1px solid rgba(148,163,184,.08);\n    border-radius: .7rem;\n    padding: .6rem;\n    margin-bottom: .6rem;\n}\n.sidebar .list { list-style: none; margin: 0; padding: 0; display: grid; gap: .35rem; }\n.sidebar .list li { display: flex; align-items: center; justify-content: space-between; font-size: .85rem; }\n.sidebar .pill { font-size: .65rem; background: rgba(148,163,184,.15); color:#e2e8f0; border:1px solid rgba(148,163,184,.3); padding:.1rem .4rem; border-radius:999px; }",
    "file_path": "src/features/fretboard/css/sidebar.css",
    "chunk_index": 34
  },
  {
    "chunk_id": 35,
    "text": "const cagedData = {\n    major: [\n        { name: \"C shape\", start: 0, end: 4 },\n        { name: \"A shape\", start: 3, end: 7 },\n        { name: \"G shape\", start: 5, end: 9 },\n        { name: \"E shape\", start: 7, end: 12 },\n        { name: \"D shape\", start: 12, end: 17 },\n    ],\n    minor: [\n        { name: \"Cm shape\", start: 0, end: 4 },\n        { name: \"Am shape\", start: 3, end: 7 },\n        { name: \"Gm shape\", start: 5, end: 9 },\n        { name: \"Em shape\", start: 7, end: 12 },\n        { name: \"Dm shape\", start: 12, end: 17 },\n    ],\n};\n\nexport default cagedData;",
    "file_path": "src/features/fretboard/data/cagedData.js",
    "chunk_index": 35
  },
  {
    "chunk_id": 36,
    "text": "const intervalInfo = [\n    { name: \"Unison (R)\", semitones: 0 },\n    { name: \"m2\", semitones: 1 },\n    { name: \"M2 (2)\", semitones: 2 },\n    { name: \"m3\", semitones: 3 },\n    { name: \"M3 (3)\", semitones: 4 },\n    { name: \"P4 (4)\", semitones: 5 },\n    { name: \"TT (b5)\", semitones: 6 },\n    { name: \"P5 (5)\", semitones: 7 },\n    { name: \"m6\", semitones: 8 },\n    { name: \"M6 (6)\", semitones: 9 },\n    { name: \"m7\", semitones: 10 },\n    { name: \"M7 (7)\", semitones: 11 },\n    { name: \"Octave\", semitones: 12 },\n];\n\nexport default intervalInfo;",
    "file_path": "src/features/fretboard/data/intervalInfo.js",
    "chunk_index": 36
  },
  {
    "chunk_id": 37,
    "text": "import { useMemo } from \"react\";\nimport cagedData from \"../data/cagedData\";\n\nexport default function useCagedShapes(root, variant) {\n    return useMemo(() => {\n        const set = cagedData[variant] || [];\n        // naive mapping: shift ranges based on root index for demo\n        return set.map((shape, i) => ({\n            name: shape.name,\n            fretRange: [shape.start, shape.end],\n        }));\n    }, [root, variant]);\n}",
    "file_path": "src/features/fretboard/hooks/useCagedShapes.js",
    "chunk_index": 37
  },
  {
    "chunk_id": 38,
    "text": "import { useCallback, useMemo, useState } from \"react\";\n\nconst DEFAULT_PROMPTS = [\n    \"Find all G notes on the fretboard.\",\n    \"Play the Mixolydian scale starting from the 5th position.\",\n    \"Ascend then descend A minor pentatonic in position 2.\",\n    \"Target the 3rd of each chord in a I‚ÄìIV‚ÄìV in C.\",\n];\n\nexport default function usePrompts(seedPrompts) {\n    const prompts = useMemo(() => seedPrompts || DEFAULT_PROMPTS, [seedPrompts]);\n    const [idx, setIdx] = useState(0);\n\n    const next = useCallback(() => {\n        setIdx((v) => (v + 1) % prompts.length);\n    }, [prompts.length]);\n\n    return {\n        prompt: prompts[idx],\n        next,\n    };\n}",
    "file_path": "src/features/fretboard/hooks/usePrompts.js",
    "chunk_index": 38
  },
  {
    "chunk_id": 39,
    "text": "export default function useScalePlayer() {\n    // reserved for future Tone.js schedule integration\n    return null;\n}",
    "file_path": "src/features/fretboard/hooks/useScalePlayer.js",
    "chunk_index": 39
  },
  {
    "chunk_id": 40,
    "text": "import React from \"react\";\nimport Fretboard from \"../component/Fretboard\";\nimport TheorySidebar from \"../component/TheorySidebar\";\nimport \"../css/sidebar.css\";\n\nexport default function FretboardPage() {\n    return (\n        <div className=\"fb-page\">\n            <div className=\"fb-page-main\">\n                <Fretboard />\n            </div>\n            <aside className=\"fb-page-sidebar\">\n                <TheorySidebar />\n            </aside>\n        </div>\n    );\n}",
    "file_path": "src/features/fretboard/page/FretboardPage.js",
    "chunk_index": 40
  },
  {
    "chunk_id": 41,
    "text": "import React, { useEffect, useRef, useState } from \"react\";\nimport \"../css/metronome.css\";\n\nexport default function Metronome() {\n    const [bpm, setBpm] = useState(100);\n    const [isOn, setIsOn] = useState(false);\n    const [tick, setTick] = useState(0);\n    const timerRef = useRef(null);\n    const audioRef = useRef(null);\n\n    useEffect(() => {\n        return () => stop();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    function click(high = false) {\n        if (!audioRef.current) {\n            audioRef.current = new (window.AudioContext || window.webkitAudioContext)();\n        }\n        const ctx = audioRef.current;\n        const osc = ctx.createOscillator();\n        const gain = ctx.createGain();\n        osc.type = \"square\";\n        osc.frequency.value = high 1200 : 900;\n        gain.gain.setValueAtTime(0, ctx.currentTime);\n        gain.gain.linearRampToValueAtTime(0.2, ctx.currentTime + 0.005);\n        gain.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.08);\n        osc.connect(gain);\n        gain.connect(ctx.destination);\n        osc.start();\n        osc.stop(ctx.currentTime + 0.09);\n    }\n\n    function schedule() {\n        const isHigh = tick % 4 === 0;\n        setTick((t) => (t + 1) % 4);\n        click(isHigh);\n        const intervalMs = 60000 / bpm;\n        timerRef.current = setTimeout(schedule, intervalMs);\n    }\n\n    function start() {\n        if (isOn) return;\n        setIsOn(true);\n        setTick(0);\n        schedule();\n    }\n\n    function stop() {\n        setIsOn(false);\n        if (timerRef.current) clearTimeout(timerRef.current);\n        timerRef.current = null;\n    }\n\n    return (\n        <div className=\"metro\">\n            <div className=\"metro-row\">\n                <button className=\"metro-btn\" onClick={isOn stop : start}>{isOn \"Stop\" : \"Start\"}</button>\n                <div className={`metro-led ${tick===0?'on':''}`}></div>\n                <div className={`metro-led ${tick===1?'on':''}`}></div>\n                <div className={`metro-led ${tick===2?'on':''}`}></div>\n                <div className={`metro-led ${tick===3?'on':''}`}></div>\n            </div>\n            <div className=\"metro-row\">\n                <label>BPM</label>\n                <input type=\"range\" min=\"40\" max=\"200\" value={bpm} onChange={(e)=>setBpm(Number(e.target.value))} />\n                <span>{bpm}</span>\n            </div>\n        </div>\n    );\n}",
    "file_path": "src/features/metronome/component/Metronome.jsx",
    "chunk_index": 41
  },
  {
    "chunk_id": 42,
    "text": ".metro { background: rgba(15,23,42,.25); border:1px solid rgba(148,163,184,.08); border-radius:.8rem; padding:.6rem; color:#e2e8f0; }\n.metro-row { display:flex; align-items:center; gap:.5rem; margin-bottom:.5rem; }\n.metro-btn { background: rgba(34,197,94,.15); border:1px solid rgba(34,197,94,.35); color:#bbf7d0; padding:.35rem .6rem; border-radius:.5rem; cursor:pointer; }\n.metro-led { width:10px; height:10px; border-radius:50%; background: rgba(148,163,184,.25); }\n.metro-led.on { background: #f59e0b; box-shadow: 0 0 8px rgba(245,158,11,.8); }",
    "file_path": "src/features/metronome/css/metronome.css",
    "chunk_index": 42
  },
  {
    "chunk_id": 43,
    "text": "import React, { useEffect, useRef, useState } from \"react\";\n\nconst GUITAR_STRINGS = [\n    { name: \"E4\", freq: 329.63 },\n    { name: \"B3\", freq: 246.94 },\n    { name: \"G3\", freq: 196.00 },\n    { name: \"D3\", freq: 146.83 },\n    { name: \"A2\", freq: 110.00 },\n    { name: \"E2\", freq: 82.41 },\n];\n\nexport default function TunerWidget() {\n    const [isOn, setIsOn] = useState(false);\n    const [freq, setFreq] = useState(null);\n    const [note, setNote] = useState(\"--\");\n    const [target, setTarget] = useState({ name: \"--\", cents: 0 });\n    const analyserRef = useRef(null);\n    const streamRef = useRef(null);\n    const rafRef = useRef(null);\n\n    useEffect(() => {\n        if (!isOn) {\n            stopAudio();\n            return;\n        }\n        startAudio().catch(console.error);\n        return () => {\n            stopAudio();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isOn]);\n\n    async function startAudio() {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n        const ctx = new (window.AudioContext || window.webkitAudioContext)();\n        const src = ctx.createMediaStreamSource(stream);\n        const analyser = ctx.createAnalyser();\n        analyser.fftSize = 2048;\n        src.connect(analyser);\n        analyserRef.current = { analyser, ctx };\n        streamRef.current = stream;\n        tick();\n    }\n\n    function stopAudio() {\n        if (rafRef.current) cancelAnimationFrame(rafRef.current);\n        rafRef.current = null;\n        analyserRef.current = null;\n        if (streamRef.current) {\n            streamRef.current.getTracks().forEach(t => t.stop());\n            streamRef.current = null;\n        }\n    }\n\n    function autoCorrelate(buf, sampleRate) {\n        let SIZE = buf.length;\n        let rms = 0;\n        for (let i = 0; i < SIZE; i++) rms += buf[i] * buf[i];\n        rms = Math.sqrt(rms / SIZE);\n        if (rms < 0.01) return -1;\n        let r1 = 0, r2 = SIZE - 1, th = 0.2;\n        for (let i = 0; i < SIZE / 2; i++) if (Math.abs(buf[i]) < th) { r1 = i; break; }\n        for (let i = 1; i < SIZE / 2; i++) if (Math.abs(buf[SIZE - i]) < th) { r2 = SIZE - i; break; }\n        buf = buf.slice(r1, r2);\n        SIZE = buf.length;\n        const c = new Array(SIZE).fill(0);\n        for (let i = 0; i < SIZE; i++) for (let j = 0; j < SIZE - i; j++) c[i] += buf[j] * buf[j + i];\n        let d = 0; while (c[d] > c[d + 1]) d++;\n        let maxval = -1, maxpos = -1;\n        for (let i = d; i < SIZE; i++) {\n            if (c[i] > maxval) { maxval = c[i]; maxpos = i; }\n        }\n        const T0 = maxpos;\n        return sampleRate / T0;\n    }\n\n    function freqToNote(f) {\n        const A4 = 440;\n        const n = Math.round(12 * Math.log2(f / A4)) + 69;\n        const names = [\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"];\n        const name = names[n % 12];\n        const oct = Math.floor(n / 12) - 1;\n        return `${name}${oct}`;\n    }\n\n    function nearestGuitarString(f) {\n        let best = GUITAR_STRINGS[0];\n        let minErr = Math.abs(f - best.freq);\n        for (let s of GUITAR_STRINGS) {\n            const err = Math.abs(f - s.freq);\n            if (err < minErr) { minErr = err; best = s; }\n        }\n        // cents = 1200 * log2(f/ftarget)\n        const cents = Math.round(1200 * Math.log2(f / best.freq));\n        return { name: best.name, cents };\n    }\n\n    function tick() {\n        rafRef.current = requestAnimationFrame(tick);\n        if (!analyserRef.current) return;\n        const { analyser, ctx } = analyserRef.current;\n        const buf = new Float32Array(analyser.fftSize);\n        analyser.getFloatTimeDomainData(buf);\n        const f = autoCorrelate(buf, ctx.sampleRate);\n        if (f > 0) {\n            setFreq(f.toFixed(1));\n            setNote(freqToNote(f));\n            setTarget(nearestGuitarString(f));\n        }\n    }\n\n    return (\n        <div style={{background:\"#0f172a\",color:\"#e2e8f0\",padding:\"0.6rem 0.8rem\",borderRadius:\"0.75rem\"}}>\n            <div style={{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",gap:8}}>\n                <div style={{fontSize:\"0.6rem\",textTransform:\"uppercase\",opacity:.7}}>Guitar Tuner</div>\n                <button\n                    onClick={()=>setIsOn(v=>!v)}\n                    style={{fontSize:12,background:isOn?\"#16a34a\":\"#334155\",color:\"#e2e8f0\",border:\"1px solid rgba(148,163,184,.3)\",borderRadius:8,padding:\"2px 8px\",cursor:\"pointer\"}}\n                >\n                    {isOn \"On\" : \"Off\"}\n                </button>\n            </div>\n            <div style={{display:\"flex\",alignItems:\"baseline\",gap:10}}>\n                <div style={{fontSize:\"1.4rem\",fontWeight:700,minWidth:64}}>{note}</div>\n                <div style={{fontSize:\"0.8rem\",opacity:.9}}>{freq `${freq} Hz` : (isOn \"listening...\" : \"off\")}</div>\n            </div>\n            <div style={{display:\"flex\",alignItems:\"center\",gap:8,marginTop:6}}>\n                <span style={{fontSize:12,opacity:.8}}>Target</span>\n                <span style={{fontWeight:700}}>{target.name}</span>\n                <span style={{fontSize:12,opacity:.8}}>Offset</span>\n                <span style={{fontWeight:700,color: target.cents===0 \"#a7f3d0\" : (target.cents>0?\"#fca5a5\":\"#93c5fd\")}}>{target.cents>0?`+${target.cents}`:target.cents}¬¢</span>\n            </div>\n            <div style={{display:\"flex\",gap:6,marginTop:8,flexWrap:\"wrap\"}}>\n                {GUITAR_STRINGS.slice().reverse().map(s=>(\n                    <div key={s.name} style={{fontSize:12,opacity:.9,background:\"rgba(148,163,184,.15)\",border:\"1px solid rgba(148,163,184,.3)\",padding:\"2px 6px\",borderRadius:999}}>{s.name}</div>\n                ))}\n            </div>\n        </div>\n    );\n}",
    "file_path": "src/features/tuner/component/TunerWidget.jsx",
    "chunk_index": 43
  },
  {
    "chunk_id": 44,
    "text": ".tuner-page {\n    color: #e2e8f0;\n}",
    "file_path": "src/features/tuner/css/tuner.css",
    "chunk_index": 44
  },
  {
    "chunk_id": 45,
    "text": "import React from \"react\";\nimport TunerWidget from \"../component/TunerWidget\";\nimport \"../css/tuner.css\";\n\nexport default function TunerPage() {\n    return (\n        <div className=\"tuner-page\">\n            <h2>Tuner</h2>\n            <TunerWidget />\n        </div>\n    );\n}",
    "file_path": "src/features/tuner/page/TunerPage.js",
    "chunk_index": 45
  },
  {
    "chunk_id": 46,
    "text": "body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}",
    "file_path": "src/index.css",
    "chunk_index": 46
  },
  {
    "chunk_id": 47,
    "text": "import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();",
    "file_path": "src/index.js",
    "chunk_index": 47
  },
  {
    "chunk_id": 48,
    "text": "const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;",
    "file_path": "src/reportWebVitals.js",
    "chunk_index": 48
  },
  {
    "chunk_id": 49,
    "text": "// jest-dom adds custom jest matchers for asserting on DOM nodes // allows you to do things like:\n// expect(element).toHaveTextContent(/react/i)\n// learn more: https://github.com/testing-library/jest-dom\nimport '@testing-library/jest-dom';",
    "file_path": "src/setupTests.js",
    "chunk_index": 49
  }
]